<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1771px" preserveAspectRatio="none" style="width:1277px;height:1771px;" version="1.1" viewBox="0 0 1277 1771" width="1277px" zoomAndPan="magnify"><defs><filter height="300%" id="fh7vgdjtqmcra" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="127" x="44" y="29.1982">movebase node</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.3145" y2="1759.1846"/><ellipse cx="108" cy="43.0127" fill="#000000" filter="url(#fh7vgdjtqmcra)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="24" y="88.0127"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="34" y="109.2686">根据目标type选择Controller</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="20" y="294.4092"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="30" y="315.665">根据返回信息切换到导航模式</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="20" y="1119.9951"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="30" y="1141.251">根据返回信息切换到跟线模式</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="23" x="96.5" y="1670.3857"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.5" y="1691.6416"/><ellipse cx="108" cy="1749.1846" fill="none" filter="url(#fh7vgdjtqmcra)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="108.5" cy="1749.6846" fill="#000000" filter="url(#fh7vgdjtqmcra)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FAEBD7" height="1746.8701" style="stroke: #FAEBD7; stroke-width: 1.0;" width="276" x="205" y="12.3145"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="162" x="262" y="29.1982">Fixpattern Controller</text><line style="stroke: #000000; stroke-width: 2.0;" x1="205" x2="205" y1="12.3145" y2="1759.1846"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="309.5" y="156.8115"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="319.5" y="178.0674">读取路径</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="237.5" y="225.6104"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="247.5" y="246.8662">检查路径起点，如果距离远返回上层</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="215" y="1188.7939"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="237" x="225" y="1210.0498">检查路径是否安全，如果不安全进入recovery</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="219.5" y="1257.5928"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="229.5" y="1278.8486">计算Localplanner参数，包括障碍物限速等</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="245" y="1532.7881"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="255" y="1554.0439">决定是否需要recovery，发布速度</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="279.5" y="1601.5869"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="289.5" y="1622.8428">到达终点，返回上层</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="124" x="570.5" y="29.1982">Astar Controller</text><line style="stroke: #000000; stroke-width: 2.0;" x1="481" x2="481" y1="12.3145" y2="1759.1846"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="587.5" y="363.208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="597.5" y="384.4639">输入规划task</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="545" y="500.8057"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="555" y="522.0615">评估路径，决定是否重新生成</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="575" y="569.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="585" y="590.8604">进入路径跟踪模式</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="491" y="638.4033"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="501" y="659.6592">检查路径是否安全，决定等待，避障，或提前避障</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="563" y="707.2021"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="573" y="728.458">计算Localplanner参数</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="534.5" y="982.3975"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="544.5" y="1003.6533">决定是否需要recovery，发布速度</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="569" y="1051.1963"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="579" y="1072.4521">到达终点，返回上层</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="117" x="794" y="29.1982">Global planner</text><line style="stroke: #000000; stroke-width: 2.0;" x1="784" x2="784" y1="12.3145" y2="1759.1846"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="819" y="432.0068"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="829" y="453.2627">规划路径</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="138" x="938" y="29.1982">导航local planner</text><line style="stroke: #000000; stroke-width: 2.0;" x1="921" x2="921" y1="12.3145" y2="1759.1846"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="949.5" y="776.001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="959.5" y="797.2568">检查goal是否到达</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="950" y="844.7998"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="960" y="866.0557">检查corner并处理</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="931" y="913.5986"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="941" y="934.8545">生成trajectory和控制速度</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="149" x="1104.5" y="29.1982">跟线 Local planner</text><line style="stroke: #000000; stroke-width: 2.0;" x1="1093" x2="1093" y1="12.3145" y2="1759.1846"/><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="1121.5" y="1326.3916"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="1131.5" y="1347.6475">检查goal是否到达</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="1122" y="1395.1904"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="1132" y="1416.4463">检查corner并处理</text><rect fill="#FEFECE" filter="url(#fh7vgdjtqmcra)" height="33.7988" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="1103" y="1463.9893"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="1113" y="1485.2451">生成trajectory和控制速度</text><line style="stroke: #000000; stroke-width: 2.0;" x1="1265" x2="1265" y1="12.3145" y2="1759.1846"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="53.0127" y2="88.0127"/><polygon fill="#A80036" points="104,78.0127,108,88.0127,112,78.0127,108,82.0127" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="1704.1846" y2="1739.1846"/><polygon fill="#A80036" points="104,1729.1846,108,1739.1846,112,1729.1846,108,1733.1846" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="190.6104" y2="225.6104"/><polygon fill="#A80036" points="339.5,215.6104,343.5,225.6104,347.5,215.6104,343.5,219.6104" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1222.5928" y2="1257.5928"/><polygon fill="#A80036" points="339.5,1247.5928,343.5,1257.5928,347.5,1247.5928,343.5,1251.5928" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1566.5869" y2="1601.5869"/><polygon fill="#A80036" points="339.5,1591.5869,343.5,1601.5869,347.5,1591.5869,343.5,1595.5869" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="534.6045" y2="569.6045"/><polygon fill="#A80036" points="629,559.6045,633,569.6045,637,559.6045,633,563.6045" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="603.4033" y2="638.4033"/><polygon fill="#A80036" points="629,628.4033,633,638.4033,637,628.4033,633,632.4033" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="672.2021" y2="707.2021"/><polygon fill="#A80036" points="629,697.2021,633,707.2021,637,697.2021,633,701.2021" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="1016.1963" y2="1051.1963"/><polygon fill="#A80036" points="629,1041.1963,633,1051.1963,637,1041.1963,633,1045.1963" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1007.5" x2="1007.5" y1="809.7998" y2="844.7998"/><polygon fill="#A80036" points="1003.5,834.7998,1007.5,844.7998,1011.5,834.7998,1007.5,838.7998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1007.5" x2="1007.5" y1="878.5986" y2="913.5986"/><polygon fill="#A80036" points="1003.5,903.5986,1007.5,913.5986,1011.5,903.5986,1007.5,907.5986" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1179.5" y1="1360.1904" y2="1395.1904"/><polygon fill="#A80036" points="1175.5,1385.1904,1179.5,1395.1904,1183.5,1385.1904,1179.5,1389.1904" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1179.5" y1="1428.9893" y2="1463.9893"/><polygon fill="#A80036" points="1175.5,1453.9893,1179.5,1463.9893,1183.5,1453.9893,1179.5,1457.9893" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="121.8115" y2="139.3115"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="343.5" y1="139.3115" y2="139.3115"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="139.3115" y2="156.8115"/><polygon fill="#A80036" points="339.5,146.8115,343.5,156.8115,347.5,146.8115,343.5,150.8115" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="259.4092" y2="276.9092"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="108" y1="276.9092" y2="276.9092"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="276.9092" y2="294.4092"/><polygon fill="#A80036" points="104,284.4092,108,294.4092,112,284.4092,108,288.4092" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="328.208" y2="345.708"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="633" y1="345.708" y2="345.708"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="345.708" y2="363.208"/><polygon fill="#A80036" points="629,353.208,633,363.208,637,353.208,633,357.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="397.0068" y2="414.5068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="853" y1="414.5068" y2="414.5068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="853" x2="853" y1="414.5068" y2="432.0068"/><polygon fill="#A80036" points="849,422.0068,853,432.0068,857,422.0068,853,426.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="853" x2="853" y1="465.8057" y2="483.3057"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="853" x2="633" y1="483.3057" y2="483.3057"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="483.3057" y2="500.8057"/><polygon fill="#A80036" points="629,490.8057,633,500.8057,637,490.8057,633,494.8057" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="741.001" y2="758.501"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="1007.5" y1="758.501" y2="758.501"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1007.5" x2="1007.5" y1="758.501" y2="776.001"/><polygon fill="#A80036" points="1003.5,766.001,1007.5,776.001,1011.5,766.001,1007.5,770.001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1007.5" x2="1007.5" y1="947.3975" y2="964.8975"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1007.5" x2="633" y1="964.8975" y2="964.8975"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="964.8975" y2="982.3975"/><polygon fill="#A80036" points="629,972.3975,633,982.3975,637,972.3975,633,976.3975" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="633" y1="1084.9951" y2="1102.4951"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="633" x2="108" y1="1102.4951" y2="1102.4951"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="1102.4951" y2="1119.9951"/><polygon fill="#A80036" points="104,1109.9951,108,1119.9951,112,1109.9951,108,1113.9951" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="1153.7939" y2="1171.2939"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="343.5" y1="1171.2939" y2="1171.2939"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1171.2939" y2="1188.7939"/><polygon fill="#A80036" points="339.5,1178.7939,343.5,1188.7939,347.5,1178.7939,343.5,1182.7939" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1291.3916" y2="1308.8916"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="1179.5" y1="1308.8916" y2="1308.8916"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1179.5" y1="1308.8916" y2="1326.3916"/><polygon fill="#A80036" points="1175.5,1316.3916,1179.5,1326.3916,1183.5,1316.3916,1179.5,1320.3916" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1179.5" y1="1497.7881" y2="1515.2881"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="343.5" y1="1515.2881" y2="1515.2881"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1515.2881" y2="1532.7881"/><polygon fill="#A80036" points="339.5,1522.7881,343.5,1532.7881,347.5,1522.7881,343.5,1526.7881" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="343.5" y1="1635.3857" y2="1652.8857"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="343.5" x2="108" y1="1652.8857" y2="1652.8857"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="108" x2="108" y1="1652.8857" y2="1670.3857"/><polygon fill="#A80036" points="104,1660.3857,108,1670.3857,112,1660.3857,108,1664.3857" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

|movebase node|
start
:根据目标type选择Controller;
|#AntiqueWhite|Fixpattern Controller|
:读取路径;
:检查路径起点，如果距离远返回上层;
|movebase node|
:根据返回信息切换到导航模式;
|Astar Controller|
:输入规划task;
|Global planner|
:规划路径;
|Astar Controller|
:评估路径，决定是否重新生成;
:进入路径跟踪模式;
:检查路径是否安全，决定等待，避障，或提前避障;
:计算Localplanner参数;
|导航local planner|
:检查goal是否到达;
:检查corner并处理;
:生成trajectory和控制速度;
|Astar Controller|
:决定是否需要recovery，发布速度;
:到达终点，返回上层;
|movebase node|
:根据返回信息切换到跟线模式;
|#AntiqueWhite|Fixpattern Controller|
:检查路径是否安全，如果不安全进入recovery;
:计算Localplanner参数，包括障碍物限速等;
|跟线 Local planner|
:检查goal是否到达;
:检查corner并处理;
:生成trajectory和控制速度;
|#AntiqueWhite|Fixpattern Controller|
:决定是否需要recovery，发布速度;
:到达终点，返回上层;
|movebase node|
:;
stop

@enduml

PlantUML version 1.2018.02(Sat Mar 10 01:20:44 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_161-b14
Operating System: Linux
OS Version: 3.10.0-327.22.2.el7.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>